<!DOCTYPE html>
    <html lang="ru">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://files.stork-search.net/basic.css">
    <script src="https://kit.fontawesome.com/3d0e27e432.js"></script>
    <script src="/theme/menu.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/theme/icons/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/theme/styles/variables.css">
    <link rel="stylesheet" href="/theme/styles/main.css">
    <link rel="stylesheet" href="/theme/styles/article.css">
    <link rel="stylesheet" href="/theme/styles/pagination.css">
    <link rel="stylesheet" href="/theme/styles/join-form.css">
    <link rel="stylesheet" href="/theme/styles/stork-search.css">
    <link rel="stylesheet" href="/theme/styles/header.css">
    <link rel="stylesheet" href="/theme/styles/footer.css">
    <link rel="stylesheet" href="/theme/styles/mobile-menu.css">
    <link rel="stylesheet" href="/theme/styles/section.css">
    <link rel="stylesheet" href="/theme/styles/card.css">
    <link rel="stylesheet" href="/theme/styles/languages-list.css">
    <link rel="stylesheet" href="/theme/styles/main-news.css">
    <link rel="stylesheet" href="/theme/styles/tags.css">
    <title>Инструкция для Медиа  · Союз марксистов
</title>
</head>
<body>
<header>
    <a href="https://marxunion.github.io" aria-label="Home"><img src="/theme/icons/logoSM.svg" class="logo" alt="Союз марксистов"></a>
    <a href="https://marxunion.github.io" aria-label="Home"><img src="/theme/icons/logoSMblack.svg" class="logomob" alt="Союз марксистов"></a>
    <label class="menu-toggle" for="mobile-menu-toggle">
        <span class="bar1"></span>
        <span class="bar2"></span>
        <span class="bar3"></span>
    </label>
    <input type="checkbox" id="mobile-menu-toggle">
    <div class="menu">
        <nav>
            <ul class="menu-items-list">
                <li><a href="https://marxunion.github.io">Новости</a></li>
                <li><a href="https://marxunion.github.io/documents.html">Документы</a></li>
                <li><a href="https://marxunion.github.io/campaigns.html">Кампании</a></li>
                <li><a href="https://marxunion.github.io/courses.html">Курсы</a></li>
                <li><a href="https://marxunion.github.io/join.html">Вступить</a></li>
            </ul>
            <div class="languages-list-wrapper mobile">
    <div class="languages-list">
        <a href="/" class="language-item active">рус</a>
        <a href="https://marxunion.github.io/en" class="language-item ">eng</a>
    </div>
</div>

        </nav>
    </div>
    <div class="mobile-background"></div>
    <div class="stork-wrapper">
        <div class="stork-input-wrapper">
            <input data-stork="site-search" class="stork-input" placeholder="Поиск"/>
        </div>
        <div data-stork="site-search-output" class="stork-output"></div>
    </div>
    <div class="languages-list-wrapper desktop">
    <div class="languages-list">
        <a href="/" class="language-item active">рус</a>
        <a href="https://marxunion.github.io/en" class="language-item ">eng</a>
    </div>
</div>

</header>
<div class="block-and-footer-wrapper">
<ul class="breadcrumb">
  <li><a href="https://marxunion.github.io/" title="Союз марксистов">
    <i class="fa fa-home fa-lg"></i>
  </a></li>
      <li><a href="https://marxunion.github.io/documents.html">Документы</a></li>

  <li class="active">Инструкция для Медиа</li>
</ul>

<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="https://marxunion.github.io/pages/publish.html"> Инструкция для Медиа  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span8 article-content">
        <p>Для хостинга сайта мы используем GitHub, поскольку это бесплатный и надежный сервис. Есть разве что один минус — на нем нельзя скрыть, с какого аккаунта был опубликован тот или иной файл. Первоначально мы планировали решать эту проблему использованием одного общего аккаунта для всех выпускающих редакторов медиа, но эти планы были нарушены введением (абсолютно правильным, кстати) обязательной двухфакторной аутентификации. Поэтому теперь каждому выпускающему редактору придется работать с собственного аккаунта. Это, однако, все еще не проблема, поскольку GitHub не запрашивает никаких данных, позволяющих идентифицировать пользователя: для регистрации нужен только email, анонимизировать который не составляет труда.</p>
<h2 id="_1">Первоначальная подготовка<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<ol>
<li>Создайте новую электронную почту на сервисе, который не требует для регистрации контактных данных: например, <a href="https://mail.tutanota.com/login">Tutanota</a> или <a href="https://proton.me/ru/mail">Proton mail</a> (в обоих случаях бесплатного аккаунта более чем достаточно). Учтите, что это не одноразовый аккаунт — доступ к нему нужно будет сохранять. Ваше имя пользователя не должно никак на вас указывать: лучше всего сделать его случайным набором символов. Не используйте этот аккаунт ни для каких иных целей. И не забывайте про наши <a href="/pages/passwords.html">инструкции по безопасности</a> при выборе пароля.</li>
<li><a href="https://github.com/signup">Зарегистрируйтесь на GitHub</a> при помощи созданной почты.</li>
<li>Отправьте тот же адрес электронной почты ответственному за поддержку сайта, указав, что вы выпускающий редактор медиа. Вам будут выданы необходимые права для редактирования сайта.</li>
<li>Установите приложение <a href="https://desktop.github.com/">GitHub Desktop</a>. При первом запуске приложение предложит вам войти в аккаунт GitHub — введите данные аккаунта, созданного на этапе 2.</li>
<li>После входа вам будут предложены варианты дальнейших действий, один из них — «Clone a repository from the Internet». Выберите его. В открывшемся окне выберите вкладку «URL». В поле для URL вставьте <code>https://github.com/marxunion/marxunion.github.io.git</code>. Локальную папку в втором поле можете выбирать по своему усмотрению. Затем нажмите «Clone».</li>
<li>В выбранной вами локальной папке появится копия всей структуры сайта СМ. Из нее вам нужна только папка <code>/content/posts</code> — там находятся статьи медиа. Посмотрите, как оформлены уже имеющиеся там статьи: вам надо будет делать то же самое.</li>
<li>Дождитесь получения прав на редактирования от ответственного за поддержку сайта. После этого можно начинать публиковать.</li>
</ol>
<h2 id="_2">Подготовка текста<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>Для публикации текст статьи должен быть подготовлен в <a href="https://gist.github.com/Jekins/2bf2d0638163f1294637">формате Markdown</a>. Для этого можно использовать встроенный редактор текстовых файлов в Nextcloud, который поддерживает этот синтаксис или любое из множества приложений с той же функцией, либо же просто форматировать текст вручную.</p>
<p>Метаданные текста необходимо внести в его преамбулу, которая должна располагаться в самом начале файла и иметь следующий вид:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">title</span><span class="o">:</span><span class="w"> </span><span class="err">Заголовок</span><span class="w"> </span><span class="err">статьи</span>
<span class="n">lang</span><span class="o">:</span><span class="w"> </span><span class="n">ru</span>
<span class="n">tags</span><span class="o">:</span><span class="w"> </span><span class="err">тег</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="err">тег</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="err">тег</span><span class="mi">3</span>
<span class="n">slug</span><span class="o">:</span><span class="w"> </span><span class="n">name</span>
<span class="n">date</span><span class="o">:</span><span class="w"> </span><span class="err">ДД</span><span class="o">-</span><span class="err">ММ</span><span class="o">-</span><span class="err">ГГГГ</span>
<span class="n">summary</span><span class="o">:</span><span class="w"> </span><span class="err">Краткое</span><span class="w"> </span><span class="err">описание</span><span class="w"> </span><span class="err">статьи</span>
</code></pre></div></td></tr></table></div>

<ul>
<li><code>title</code> — заголовок статьи</li>
<li><code>lang</code> — язык статьи, который нужно указывать, поскольку у нас есть и переведенные страницы</li>
<li><code>tags</code> — теги, которые отображаются внизу статьи</li>
<li><code>slug</code> — кодовое название статьи, которое используется для создания ссылок; оно должно быть <em>уникальным</em> и состоять из латинских букв (или цифр) без пробелов</li>
<li><code>date</code> — дата публикации в формате ДД-ММ-ГГГГ</li>
<li><code>summary</code> — краткое описание публикации, используется для создания превью и в поисковых системах</li>
</ul>
<p>Обратите внимание, что между строками преамбулы или до нее не должно быть пустых строк. Если вы используете редактор Nextcloud, то переносы строк между ними надо делать при помощи <code>Ctrl+Enter</code> вместо <code>Enter</code>. В других редакторах Markdown можно переключиться в режим исходного текста и проверить верность форматирования. Название самого файла может быть любым, но я предлагаю использовать код языка на случай, если в дальнейшем текст будет переводиться: например <code>ru.md</code>.</p>
<p>Каждая публикация должна сопровождаться хотя бы одним изображением — обложкой, которая будет использоваться на главной странице и на превью, а также будет добавлена перед текстом статьи. Это изображение должно находиться в одной папке с самим текстом и называться <code>cover</code> (разрешение файла не принципиально — это может быть jpg, png и т.д.). Идеальные размеры обложки — примерно 400 пикселей в высоту и 600 в ширину. Она не должна иметь слишком большой объем, поскольку тогда главная страница сайта будет загружаться долго.</p>
<p>В текст статьи можно добавлять дополнительные иллюстрации. Для этого соответствующее изображение (например <code>image.jpg</code>) нужно поместить в ту же папку и прикрепить его к тексту при помощи такой строки:</p>
<p><code>![Описание изображения]({attach}image.jpg)</code></p>
<p>Наконец, название папки, в которой вы собрали все эти файлы, должно совпадать со значением <code>slug</code> в преамбуле.</p>
<h2 id="_3">Публикация<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li>Для начала нужно актуализировать вашу локальную копию сайта. Для этого в GitHub Desktop нажмите на кнопку «Fetch origin» (сама правая на темной панели сверху), а затем, если появится такая опция — «Pull origin».</li>
<li>Откройте свою локальную копию и перейдите в ней в папку <code>/content/posts</code>. Скопируйте сюда папку с файлом статьи и иллюстрациями, которую подготовили в предыдущей части.</li>
<li>Снова откройте GitHub Desktop. В левой части приложения должны отобразиться внесенные вами изменения (если нет, то попробуйте перезапустить приложение). Под списком изменений будет форма. Заполните в ней поле «Summary» (можно вписать в него то же, что и в параметре <code>slug</code> публикуемой статьи). Затем нажмите «Commit».</li>
<li>Кнопка «Fetch origin» должна замениться на «Push origin». Нажмите на нее.</li>
<li>Готово! Через пару минут новая статья должна появиться на сайте.</li>
</ol>
    </div>
</div>
</article>

    <div class="footer-wrapper">
        <footer>
            <div class="social-icons">
                <a href="https://www.youtube.com/@MarxUnion"><img src="/theme/icons/logo_youtube.svg" alt="Youtube"></a>
                <a href="https://vk.com/marx_union"><img src="/theme/icons/logo_vk.svg" alt="VK"></a>
                <a href="https://t.me/marx_union"><img src="/theme/icons/logo_tele.svg" alt="Telegram"></a>
                <a href="#"><img src="/theme/icons/logo_fb.svg" alt="Facebook"></a>
                <a href="#"><img src="/theme/icons/logo_twit.svg" alt="Twitter"></a>
                <a href="#"><img src="/theme/icons/logo_inst.svg" alt="Instagram"></a>
            </div>
            <div class="footer-logo">Союз марксистов</div>
            <div></div>
        </footer>
    </div>
</div>

<script src="https://files.stork-search.net/releases/v1.6.0/stork.js"></script>
<script>
    stork.register("site-search", "https://marxunion.github.io/search-index.st")
</script>
</body>
</html>